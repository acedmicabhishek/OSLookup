# Chapter 12: Mass-Storage Structure

## Overview of Mass-Storage Structure

Modern computer systems rely on disks to provide the bulk of their storage capacity. Disks provide secondary storage for the system.

-   **Magnetic Disks:** Traditional magnetic disks (Hard Disk Drives or HDDs) provide the bulk of secondary storage for modern computer systems. They are a form of direct-access storage, which means that it is possible to access any block of information directly.
-   **Solid-State Disks (SSDs):** SSDs are non-volatile memory devices that are becoming increasingly popular. They have no moving parts and are faster than traditional HDDs, but they are also more expensive.

## Disk Structure

A magnetic disk consists of one or more platters, which are coated with a magnetic material. Each platter has two surfaces. The disk surface is logically divided into tracks, which are subdivided into sectors. The set of tracks that are at the same arm position on all platters is called a cylinder.

The time required to access a block on a disk is determined by three factors:
1.  **Seek time:** The time it takes to move the disk arm to the desired cylinder.
2.  **Rotational latency:** The time it takes for the desired sector to rotate to the disk head.
3.  **Transfer time:** The time it takes to transfer the data.

## Disk Attachment

Computers access disk storage in two ways:
1.  **Host-attached storage:** The disk is attached directly to the computer. Common interfaces include SATA, SAS, and USB.
2.  **Network-attached storage (NAS):** The disk is attached to a network and can be accessed by multiple computers. NAS is a file-level storage architecture.
3.  **Storage-area network (SAN):** A SAN is a dedicated, high-speed network that connects shared pools of storage devices to multiple servers. SANs are block-level storage architectures.

## Disk Scheduling

The operating system is responsible for using the hardware efficiently. For the disk drives, this means having a fast access time and disk bandwidth. The access time has two major components: seek time and rotational latency. The seek time is the time for the disk arm to move the heads to the cylinder containing the desired sector. The rotational latency is the additional time waiting for the disk to rotate the desired sector to the disk head.

Disk scheduling algorithms are used to schedule the servicing of disk I/O requests.
-   **FCFS (First-Come, First-Served):** The simplest scheduling algorithm. It is fair, but it does not provide the fastest service.
-   **SSTF (Shortest-Seek-Time-First):** Selects the request with the minimum seek time from the current head position.
-   **SCAN (Elevator Algorithm):** The disk arm starts at one end of the disk and moves toward the other end, servicing requests as it reaches each cylinder, until it gets to the other end of the disk.
-   **C-SCAN (Circular SCAN):** A variant of SCAN that is designed to provide a more uniform wait time. Like SCAN, C-SCAN moves the head from one end of the disk to the other, servicing requests along the way. When the head reaches the other end, however, it immediately returns to the beginning of the disk without servicing any requests on the return trip.
-   **LOOK and C-LOOK:** Variants of SCAN and C-SCAN. The arm goes only as far as the last request in each direction, then reverses direction immediately, without going all the way to the end of the disk.

## Disk Management

-   **Disk Formatting:** Before a disk can store data, it must be divided into sectors that the disk controller can read and write. This process is called low-level formatting or physical formatting.
-   **Boot Block:** For a computer to start running, it must have an initial program to run. This initial program, or bootstrap, is stored in the boot block of the disk.
-   **Bad Blocks:** Disks can have defective sectors. These are called bad blocks. The controller can be told to ignore these blocks.

## Swap-Space Management

Swap-space management is another low-level task of the operating system. The main goal for the design and implementation of swap space is to provide the best throughput for the virtual memory system.

Swap space can be carved out of the normal file system, or it can be in a separate disk partition.

## RAID Structure

**RAID (Redundant Array of Independent Disks)** is a set of disk-drive technologies that combines multiple physical disk drive components into one or more logical units for the purposes of data redundancy, performance improvement, or both.

-   **RAID 0 (Striping):** Data is split across multiple disks. This improves performance but does not provide redundancy.
-   **RAID 1 (Mirroring):** Data is copied to multiple disks. This provides redundancy but does not improve performance.
-   **RAID 5 (Striping with Parity):** Data is striped across multiple disks, and a parity block is used for redundancy.
-   **RAID 6 (Striping with Double Parity):** Similar to RAID 5, but with an extra parity block to provide redundancy even if two disks fail.

## Stable-Storage Implementation

The concept of stable storage is a classification of computer data storage technology that guarantees atomicity for any given write operation and allows software to be written that is robust against some hardware and software failures.
