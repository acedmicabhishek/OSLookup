# Chapter 3: Processes

## Process Concept

A process is a program in execution. A process is more than the program code, which is sometimes known as the text section. It also includes the current activity, as represented by the value of the program counter and the contents of the processor's registers. A process generally also includes the process stack, which contains temporary data (such as function parameters, return addresses, and local variables), and a data section, which contains global variables. A process may also include a heap, which is memory that is dynamically allocated during process run time.

As a process executes, it changes state. The state of a process is defined in part by the current activity of that process. Each process may be in one of the following states:
-   **New:** The process is being created.
-   **Running:** Instructions are being executed.
-   **Waiting:** The process is waiting for some event to occur (such as an I/O completion or reception of a signal).
-   **Ready:** The process is waiting to be assigned to a processor.
-   **Terminated:** The process has finished execution.

Each process is represented in the operating system by a **Process Control Block (PCB)**, also called a **Task Control Block**. A PCB contains many pieces of information associated with a specific process, including:
-   Process state
-   Program counter
-   CPU registers
-   CPU-scheduling information
-   Memory-management information
-   Accounting information
-   I/O status information

## Process Scheduling

The objective of multiprogramming is to have some process running at all times, to maximize CPU utilization. The objective of time sharing is to switch the CPU among processes so frequently that users can interact with each program while it is running. To meet these objectives, the process scheduler selects an available process for program execution on the CPU.

-   **Scheduling Queues:** As processes enter the system, they are put into a job queue. The processes that are residing in main memory and are ready and waiting to execute are kept on a list called the ready queue. A process that is waiting for an I/O device is placed in a device queue.
-   **Schedulers:** A long-term scheduler (or job scheduler) selects processes from a pool and loads them into memory for execution. A short-term scheduler (or CPU scheduler) selects from among the processes that are ready to execute and allocates the CPU to one of them.
-   **Context Switch:** Switching the CPU to another process requires performing a state save of the current process and a state restore of a different process. This task is known as a context switch.

## Operations on Processes

The processes in a system can execute concurrently, and they may be created and deleted dynamically. Thus, the operating system must provide a mechanism for process creation and termination.

-   **Process Creation:** A process may create several new processes, via a `create-process` system call, during the course of execution. The creating process is called a parent process, and the new processes are called the children of that process.
-   **Process Termination:** A process terminates when it finishes executing its final statement and asks the operating system to delete it by using the `exit` system call. A process can also be terminated by its parent process.

## Interprocess Communication

Processes executing concurrently in the operating system may be either independent processes or cooperating processes. Cooperating processes can affect or be affected by other processes, including sharing data.

There are two fundamental models of interprocess communication (IPC):
1.  **Shared Memory:** A region of memory that is shared by cooperating processes is established. Processes can then exchange information by reading and writing data to the shared region.
2.  **Message Passing:** Communication takes place by means of messages exchanged between the cooperating processes. It is particularly useful in a distributed environment.

## Examples of IPC Systems

-   **Pipes:** A pipe acts as a conduit allowing two processes to communicate. A pipe is one of the earliest and simplest IPC mechanisms.
-   **Sockets:** A socket is an endpoint for communication. A pair of processes communicating over a network employs a pair of socketsâ€”one for each process.
-   **Remote Procedure Calls (RPCs):** RPCs are a way to abstract the procedure-call mechanism for use between systems with network connections.

## Communication in Client-Server Systems

-   **Sockets:** As mentioned, sockets are a common mechanism for client-server communication.
-   **RPCs:** RPCs are also widely used in client-server systems to allow a client to invoke a procedure on a remote server.
-   **Pipes:** While less common for client-server systems across a network, pipes can be used for communication between related processes on the same machine, such as a web server and a CGI script.